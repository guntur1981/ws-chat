import{u as Me,a as Ae,b as P}from"./format.f9684010.js";import{r as g,q as Le,a as A,o as L,W as B,n as ee,h as y,g as V,d as k,w as X,X as He,b as C,Y as De,S as O,Z as H,O as te,P as D,V as F,U as x,s as xe,c as b,_ as je,j as Re,$ as $e,k as oe}from"./index.c2dbb6bd.js";import{c as Q,i as ke,j as ie,k as Xe,e as Fe}from"./vm.e3ccacda.js";function Ne(){const e=g(!Le.value);return e.value===!1&&A(()=>{e.value=!0}),e}const he=typeof ResizeObserver!="undefined",le=he===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var ne=Q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:i}){let n=null,s,t={width:-1,height:-1};function l(c){c===!0||e.debounce===0||e.debounce==="0"?r():n===null&&(n=setTimeout(r,e.debounce))}function r(){if(n!==null&&(clearTimeout(n),n=null),s){const{offsetWidth:c,offsetHeight:u}=s;(c!==t.width||u!==t.height)&&(t={width:c,height:u},i("resize",t))}}const{proxy:o}=V();if(o.trigger=l,he===!0){let c;const u=m=>{s=o.$el.parentNode,s?(c=new ResizeObserver(l),c.observe(s),r()):m!==!0&&ee(()=>{u(!0)})};return A(()=>{u()}),L(()=>{n!==null&&clearTimeout(n),c!==void 0&&(c.disconnect!==void 0?c.disconnect():s&&c.unobserve(s))}),B}else{let m=function(){n!==null&&(clearTimeout(n),n=null),u!==void 0&&(u.removeEventListener!==void 0&&u.removeEventListener("resize",l,k.passive),u=void 0)},p=function(){m(),s&&s.contentDocument&&(u=s.contentDocument.defaultView,u.addEventListener("resize",l,k.passive),r())};const c=Ne();let u;return A(()=>{ee(()=>{s=o.$el,s&&p()})}),L(m),()=>{if(c.value===!0)return y("object",{style:le.style,tabindex:-1,type:"text/html",data:le.url,"aria-hidden":"true",onLoad:p})}}}});const Ye=[null,document,document.body,document.scrollingElement,document.documentElement];function Be(e,i){let n=ke(i);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Ye.includes(n)?window:n}function me(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function pe(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function be(e,i,n=0){const s=arguments[3]===void 0?performance.now():arguments[3],t=me(e);if(n<=0){t!==i&&N(e,i);return}requestAnimationFrame(l=>{const r=l-s,o=t+(i-t)/Math.max(r,n)*r;N(e,o),o!==i&&be(e,i,n-r,l)})}function ge(e,i,n=0){const s=arguments[3]===void 0?performance.now():arguments[3],t=pe(e);if(n<=0){t!==i&&Y(e,i);return}requestAnimationFrame(l=>{const r=l-s,o=t+(i-t)/Math.max(r,n)*r;Y(e,o),o!==i&&ge(e,i,n-r,l)})}function N(e,i){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i);return}e.scrollTop=i}function Y(e,i){if(e===window){window.scrollTo(i,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=i}function re(e,i,n){if(n){be(e,i,n);return}N(e,i)}function j(e,i,n){if(n){ge(e,i,n);return}Y(e,i)}let M;function et(){if(M!==void 0)return M;const e=document.createElement("p"),i=document.createElement("div");ie(e,{width:"100%",height:"200px"}),ie(i,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),i.appendChild(e),document.body.appendChild(i);const n=e.offsetWidth;i.style.overflow="scroll";let s=e.offsetWidth;return n===s&&(s=i.clientWidth),i.remove(),M=n-s,M}function tt(e,i=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:i?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const{passive:ae}=k,Ve=["both","horizontal","vertical"];var Qe=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Ve.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:i}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let s=null,t,l;X(()=>e.scrollTarget,()=>{c(),o()});function r(){s!==null&&s();const p=Math.max(0,me(t)),h=pe(t),f={top:p-n.position.top,left:h-n.position.left};if(e.axis==="vertical"&&f.top===0||e.axis==="horizontal"&&f.left===0)return;const z=Math.abs(f.top)>=Math.abs(f.left)?f.top<0?"up":"down":f.left<0?"left":"right";n.position={top:p,left:h},n.directionChanged=n.direction!==z,n.delta=f,n.directionChanged===!0&&(n.direction=z,n.inflectionPoint=n.position),i("scroll",{...n})}function o(){t=Be(l,e.scrollTarget),t.addEventListener("scroll",u,ae),u(!0)}function c(){t!==void 0&&(t.removeEventListener("scroll",u,ae),t=void 0)}function u(p){if(p===!0||e.debounce===0||e.debounce==="0")r();else if(s===null){const[h,f]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];s=()=>{f(h),s=null}}}const{proxy:m}=V();return X(()=>m.$q.lang.rtl,r),A(()=>{l=m.$el.parentNode,o()}),L(()=>{s!==null&&s(),c()}),Object.assign(m,{trigger:u,getPosition:()=>n}),B}});const W={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},We=Object.keys(W);W.all=!0;function ue(e){const i={};for(const n of We)e[n]===!0&&(i[n]=!0);return Object.keys(i).length===0?W:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}const Ue=["INPUT","TEXTAREA"];function se(e,i){return i.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof i.handler=="function"&&Ue.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(i.uid)===-1)}function Ie(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),He.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function R(e,i,n){const s=F(e);let t,l=s.left-i.event.x,r=s.top-i.event.y,o=Math.abs(l),c=Math.abs(r);const u=i.direction;u.horizontal===!0&&u.vertical!==!0?t=l<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?t=r<0?"up":"down":u.up===!0&&r<0?(t="up",o>c&&(u.left===!0&&l<0?t="left":u.right===!0&&l>0&&(t="right"))):u.down===!0&&r>0?(t="down",o>c&&(u.left===!0&&l<0?t="left":u.right===!0&&l>0&&(t="right"))):u.left===!0&&l<0?(t="left",o<c&&(u.up===!0&&r<0?t="up":u.down===!0&&r>0&&(t="down"))):u.right===!0&&l>0&&(t="right",o<c&&(u.up===!0&&r<0?t="up":u.down===!0&&r>0&&(t="down")));let m=!1;if(t===void 0&&n===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,m=!0,t==="left"||t==="right"?(s.left-=l,o=0,l=0):(s.top-=r,c=0,r=0)}return{synthetic:m,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:s,direction:t,isFirst:i.event.isFirst,isFinal:n===!0,duration:Date.now()-i.event.time,distance:{x:o,y:c},offset:{x:l,y:r},delta:{x:s.left-i.event.lastX,y:s.top-i.event.lastY}}}}let Ke=0;var ce=Xe({name:"touch-pan",beforeMount(e,{value:i,modifiers:n}){if(n.mouse!==!0&&C.has.touch!==!0)return;function s(l,r){n.mouse===!0&&r===!0?xe(l):(n.stop===!0&&D(l),n.prevent===!0&&te(l))}const t={uid:"qvtp_"+Ke++,handler:i,modifiers:n,direction:ue(n),noop:B,mouseStart(l){se(l,t)&&De(l)&&(O(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(l,!0))},touchStart(l){if(se(l,t)){const r=l.target;O(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(l)}},start(l,r){if(C.is.firefox===!0&&H(e,!0),t.lastEvt=l,r===!0||n.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const u=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&te(u),l.cancelBubble===!0&&D(u),Object.assign(u,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[t.uid]:l.qClonedBy.concat(t.uid)}),t.initialEvent={target:l.target,event:u}}D(l)}const{left:o,top:c}=F(l);t.event={x:o,y:c,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:o,lastY:c}},move(l){if(t.event===void 0)return;const r=F(l),o=r.left-t.event.x,c=r.top-t.event.y;if(o===0&&c===0)return;t.lastEvt=l;const u=t.event.mouse===!0,m=()=>{s(l,u);let f;n.preserveCursor!==!0&&n.preservecursor!==!0&&(f=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ie(),t.styleCleanup=z=>{if(t.styleCleanup=void 0,f!==void 0&&(document.documentElement.style.cursor=f),document.body.classList.remove("non-selectable"),u===!0){const T=()=>{document.body.classList.remove("no-pointer-events--children")};z!==void 0?setTimeout(()=>{T(),z()},50):T()}else z!==void 0&&z()}};if(t.event.detected===!0){t.event.isFirst!==!0&&s(l,t.event.mouse);const{payload:f,synthetic:z}=R(l,t,!1);f!==void 0&&(t.handler(f)===!1?t.end(l):(t.styleCleanup===void 0&&t.event.isFirst===!0&&m(),t.event.lastX=f.position.left,t.event.lastY=f.position.top,t.event.lastDir=z===!0?void 0:f.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||u===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){m(),t.event.detected=!0,t.move(l);return}const p=Math.abs(o),h=Math.abs(c);p!==h&&(t.direction.horizontal===!0&&p>h||t.direction.vertical===!0&&p<h||t.direction.up===!0&&p<h&&c<0||t.direction.down===!0&&p<h&&c>0||t.direction.left===!0&&p>h&&o<0||t.direction.right===!0&&p>h&&o>0?(t.event.detected=!0,t.move(l)):t.end(l,!0))},end(l,r){if(t.event!==void 0){if(x(t,"temp"),C.is.firefox===!0&&H(e,!1),r===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(R(l===void 0?t.lastEvt:l,t).payload);const{payload:o}=R(l===void 0?t.lastEvt:l,t,!0),c=()=>{t.handler(o)};t.styleCleanup!==void 0?t.styleCleanup(c):c()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";O(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}C.has.touch===!0&&O(t,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const n=e.__qtouchpan;n!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&n.end(),n.handler=i.value),n.direction=ue(i.modifiers))},beforeUnmount(e){const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),x(i,"main"),x(i,"temp"),C.is.firefox===!0&&H(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete e.__qtouchpan)}});const de=["vertical","horizontal"],$={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},ve={prevent:!0,mouse:!0,mouseAllDir:!0},fe=e=>e>=250?50:Math.ceil(e/5);var ot=Q({name:"QScrollArea",props:{...Me,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:i,emit:n}){const s=g(!1),t=g(!1),l=g(!1),r={vertical:g(0),horizontal:g(0)},o={vertical:{ref:g(null),position:g(0),size:g(0)},horizontal:{ref:g(null),position:g(0),size:g(0)}},{proxy:c}=V(),u=Ae(e,c.$q);let m=null,p;const h=g(null),f=b(()=>"q-scrollarea"+(u.value===!0?" q-scrollarea--dark":""));o.vertical.percentage=b(()=>{const a=o.vertical.size.value-r.vertical.value;if(a<=0)return 0;const d=P(o.vertical.position.value/a,0,1);return Math.round(d*1e4)/1e4}),o.vertical.thumbHidden=b(()=>(e.visible===null?l.value:e.visible)!==!0&&s.value===!1&&t.value===!1||o.vertical.size.value<=r.vertical.value+1),o.vertical.thumbStart=b(()=>o.vertical.percentage.value*(r.vertical.value-o.vertical.thumbSize.value)),o.vertical.thumbSize=b(()=>Math.round(P(r.vertical.value*r.vertical.value/o.vertical.size.value,fe(r.vertical.value),r.vertical.value))),o.vertical.style=b(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${o.vertical.thumbStart.value}px`,height:`${o.vertical.thumbSize.value}px`})),o.vertical.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.vertical.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),o.horizontal.percentage=b(()=>{const a=o.horizontal.size.value-r.horizontal.value;if(a<=0)return 0;const d=P(Math.abs(o.horizontal.position.value)/a,0,1);return Math.round(d*1e4)/1e4}),o.horizontal.thumbHidden=b(()=>(e.visible===null?l.value:e.visible)!==!0&&s.value===!1&&t.value===!1||o.horizontal.size.value<=r.horizontal.value+1),o.horizontal.thumbStart=b(()=>o.horizontal.percentage.value*(r.horizontal.value-o.horizontal.thumbSize.value)),o.horizontal.thumbSize=b(()=>Math.round(P(r.horizontal.value*r.horizontal.value/o.horizontal.size.value,fe(r.horizontal.value),r.horizontal.value))),o.horizontal.style=b(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[c.$q.lang.rtl===!0?"right":"left"]:`${o.horizontal.thumbStart.value}px`,width:`${o.horizontal.thumbSize.value}px`})),o.horizontal.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.horizontal.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const z=b(()=>o.vertical.thumbHidden.value===!0&&o.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),T=[[ce,a=>{Z(a,"vertical")},void 0,{vertical:!0,...ve}]],ze=[[ce,a=>{Z(a,"horizontal")},void 0,{horizontal:!0,...ve}]];function U(){const a={};return de.forEach(d=>{const v=o[d];a[d+"Position"]=v.position.value,a[d+"Percentage"]=v.percentage.value,a[d+"Size"]=v.size.value,a[d+"ContainerSize"]=r[d].value}),a}const I=je(()=>{const a=U();a.ref=c,n("scroll",a)},0);function K(a,d,v){if(de.includes(a)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(a==="vertical"?re:j)(h.value,d,v)}function ye({height:a,width:d}){let v=!1;r.vertical.value!==a&&(r.vertical.value=a,v=!0),r.horizontal.value!==d&&(r.horizontal.value=d,v=!0),v===!0&&E()}function Se({position:a}){let d=!1;o.vertical.position.value!==a.top&&(o.vertical.position.value=a.top,d=!0),o.horizontal.position.value!==a.left&&(o.horizontal.position.value=a.left,d=!0),d===!0&&E()}function we({height:a,width:d}){o.horizontal.size.value!==d&&(o.horizontal.size.value=d,E()),o.vertical.size.value!==a&&(o.vertical.size.value=a,E())}function Z(a,d){const v=o[d];if(a.isFirst===!0){if(v.thumbHidden.value===!0)return;p=v.position.value,t.value=!0}else if(t.value!==!0)return;a.isFinal===!0&&(t.value=!1);const w=$[d],_=r[d].value,_e=(v.size.value-_)/(_-v.thumbSize.value),Pe=a.distance[w.dist],Oe=p+(a.direction===w.dir?1:-1)*Pe*_e;J(Oe,d)}function G(a,d){const v=o[d];if(v.thumbHidden.value!==!0){const w=a[$[d].offset];if(w<v.thumbStart.value||w>v.thumbStart.value+v.thumbSize.value){const _=w-v.thumbSize.value/2;J(_/r[d].value*v.size.value,d)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(a.type,a))}}function Ce(a){G(a,"vertical")}function Te(a){G(a,"horizontal")}function E(){s.value=!0,m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,s.value=!1},e.delay),e.onScroll!==void 0&&I()}function J(a,d){h.value[$[d].scroll]=a}let S=null;function Ee(){S!==null&&clearTimeout(S),S=setTimeout(()=>{S=null,l.value=!0},c.$q.platform.is.ios?50:0)}function qe(){S!==null&&(clearTimeout(S),S=null),l.value=!1}let q=null;return X(()=>c.$q.lang.rtl,a=>{h.value!==null&&j(h.value,Math.abs(o.horizontal.position.value)*(a===!0?-1:1))}),Re(()=>{q={top:o.vertical.position.value,left:o.horizontal.position.value}}),$e(()=>{if(q===null)return;const a=h.value;a!==null&&(j(a,q.left),re(a,q.top))}),L(I.cancel),Object.assign(c,{getScrollTarget:()=>h.value,getScroll:U,getScrollPosition:()=>({top:o.vertical.position.value,left:o.horizontal.position.value}),getScrollPercentage:()=>({top:o.vertical.percentage.value,left:o.horizontal.percentage.value}),setScrollPosition:K,setScrollPercentage(a,d,v){K(a,d*(o[a].size.value-r[a].value)*(a==="horizontal"&&c.$q.lang.rtl===!0?-1:1),v)}}),()=>y("div",{class:f.value,onMouseenter:Ee,onMouseleave:qe},[y("div",{ref:h,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[y("div",{class:"q-scrollarea__content absolute",style:z.value},Fe(i.default,[y(ne,{debounce:0,onResize:we})])),y(Qe,{axis:"both",onScroll:Se})]),y(ne,{debounce:0,onResize:ye}),y("div",{class:o.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:Ce}),y("div",{class:o.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:Te}),oe(y("div",{ref:o.vertical.ref,class:o.vertical.thumbClass.value,style:o.vertical.style.value,"aria-hidden":"true"}),T),oe(y("div",{ref:o.horizontal.ref,class:o.horizontal.thumbClass.value,style:o.horizontal.style.value,"aria-hidden":"true"}),ze)])}});export{ne as Q,ce as T,me as a,et as b,Qe as c,ot as d,pe as g,tt as h};
