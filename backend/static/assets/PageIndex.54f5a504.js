import{c as k,l as w}from"./vm.e3ccacda.js";import{c as o,h as t,a4 as B,E as M,r as $,w as T,v as c,I as d,z as b,y as C,A as z,x as g,L as I,J as q,F as S,n as L}from"./index.c2dbb6bd.js";import{Q,a as p}from"./QPage.0d083d37.js";import{d as N}from"./QScrollArea.a0514c29.js";import"./format.f9684010.js";var _=k({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:s}){const n=o(()=>e.sent===!0?"sent":"received"),u=o(()=>`q-message-text-content q-message-text-content--${n.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),v=o(()=>`q-message-text q-message-text--${n.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),x=o(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),f=o(()=>e.size!==void 0?`col-${e.size}`:""),a=o(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function y(l){return s.stamp!==void 0?[l,t("div",{class:"q-message-stamp"},s.stamp())]:e.stamp?[l,t("div",{class:"q-message-stamp",[a.value.stamp]:e.stamp})]:[l]}function h(l,r){const m=r===!0?l.length>1?i=>i:i=>t("div",[i]):i=>t("div",{[a.value.msg]:i});return l.map((i,H)=>t("div",{key:H,class:v.value},[t("div",{class:u.value},y(m(i)))]))}return()=>{const l=[];s.avatar!==void 0?l.push(s.avatar()):e.avatar!==void 0&&l.push(t("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const r=[];s.name!==void 0?r.push(t("div",{class:`q-message-name q-message-name--${n.value}`},s.name())):e.name!==void 0&&r.push(t("div",{class:`q-message-name q-message-name--${n.value}`,[a.value.name]:e.name})),s.default!==void 0?r.push(h(w(s.default()),!0)):e.text!==void 0&&r.push(h(e.text)),l.push(t("div",{class:f.value},r));const m=[];return s.label!==void 0?m.push(t("div",{class:"q-message-label"},s.label())):e.label!==void 0&&m.push(t("div",{class:"q-message-label",[a.value.label]:e.label})),m.push(t("div",{class:x.value},l)),t("div",{class:`q-message q-message-${n.value}`},m)}}});const P={key:1},J={__name:"PageIndex",setup(e){const s=B(),n=M(),u=$(null);function v(){L(()=>u.value.lastElementChild.scrollIntoView())}return T(()=>s.newMessage,()=>v()),(x,f)=>(c(),d(Q,null,{default:b(()=>[C(N,{class:"q-px-md",style:{height:"calc(100svh - 50px - 75px)"}},{default:b(()=>[z("div",{ref_key:"refDivScroll",ref:u,style:{width:"100%"}},[(c(!0),g(S,null,I(q(s).list,a=>(c(),g(S,{key:a.id},[a.memberId===q(n).memberId?(c(),d(_,{key:0,avatar:a.memberPhoto,"bg-color":"blue-grey-2",name:"Me",sent:"",text:[a.text]},null,8,["avatar","text"])):a.memberId==="info"?(c(),g("div",P,[C(p,{color:"info",label:a.text},null,8,["label"])])):(c(),d(_,{key:2,avatar:a.memberPhoto,"bg-color":"primary",name:a.memberName,text:[a.text],"text-color":"white"},null,8,["avatar","name","text"]))],64))),128))],512)]),_:1})]),_:1}))}};export{J as default};
